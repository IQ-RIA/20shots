// Generated by CoffeeScript 1.3.3

define(['j/view/layout/Layout'], function() {
  var Layout;
  Layout = arguments[0];
  return J.app = window.J.app || new function() {
    return {
      start: function() {
        this.layout = new Layout();
        if (window.user) {
          return this.renderDefaultLayout();
        } else {
          return this.renderLoginLayout();
        }
      },
      renderDefaultLayout: function() {
        this.socket = io.connect("http://" + window.location.host + ":4000");
        return this.layout.toDefault().render();
      },
      renderLoginLayout: function() {
        return this.layout.toLogin().render();
      }
    };
  };
});
